<?xml version="1.0" encoding="UTF-8" ?>
<XMLDB PATH="mod/feedbackwall/db" VERSION="20070401" COMMENT="XMLDB file for Moodle mod/feedbackwall"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="../../../lib/xmldb/xmldb.xsd"
>
  <TABLES>
    <TABLE NAME="feedbackwall" COMMENT="database entry for all used feedbackwallmodules" >
      <FIELDS>
        <FIELD NAME="id" TYPE="int" LENGTH="10" NOTNULL="true" UNSIGNED="true" SEQUENCE="true" ENUM="false" COMMENT="id of the feedbackwallmodule" NEXT="course"/>
        <FIELD NAME="course" TYPE="int" LENGTH="10" NOTNULL="true" UNSIGNED="true" DEFAULT="0" SEQUENCE="false" ENUM="false" COMMENT="Course newmodule activity belongs to" PREVIOUS="id" NEXT="name"/>
        <FIELD NAME="name" TYPE="char" LENGTH="255" NOTNULL="true" SEQUENCE="false" ENUM="false" COMMENT="name field for moodle instances" PREVIOUS="course" NEXT="intro"/>
        <FIELD NAME="intro" TYPE="text" LENGTH="medium" NOTNULL="false" SEQUENCE="false" ENUM="false" COMMENT="General introduction of the newmodule activity" PREVIOUS="name" NEXT="introformat"/>
        <FIELD NAME="introformat" TYPE="int" LENGTH="4" NOTNULL="true" UNSIGNED="true" DEFAULT="0" SEQUENCE="false" ENUM="false" COMMENT="Format of the intro field (MOODLE, HTML, MARKDOWN...)" PREVIOUS="intro" NEXT="timecreated"/>
        <FIELD NAME="timecreated" TYPE="int" LENGTH="10" NOTNULL="true" UNSIGNED="true" DEFAULT="0" SEQUENCE="false" ENUM="false" COMMENT="" PREVIOUS="introformat" NEXT="timemodified"/>
        <FIELD NAME="timemodified" TYPE="int" LENGTH="10" NOTNULL="true" UNSIGNED="true" DEFAULT="0" SEQUENCE="false" ENUM="false" COMMENT="" PREVIOUS="timecreated"/>
      </FIELDS>
      <KEYS>
        <KEY NAME="primary" TYPE="primary" FIELDS="id" />
      </KEYS>
      <INDEXES>
        <INDEX NAME="course" UNIQUE="false" FIELDS="course"/>
      </INDEXES>
    </TABLE>

  <TABLE NAME="feedbackwall_feedbacks" COMMENT="database entry for all feedbacks of all feedbackwallmodules">
      <FIELDS>
        <FIELD NAME="id" TYPE="int" LENGTH="10" NOTNULL="true" UNSIGNED="true" SEQUENCE="true" ENUM="false" COMMENT="id of the feedback" NEXT="courseid"/>
	     	<FIELD NAME="courseid" TYPE="int" LENGTH="10" NOTNULL="true" UNSIGNED="true" DEFAULT="0" SEQUENCE="false" ENUM="false" COMMENT="courseid"  PREVIOUS="id" NEXT="coursemoduleid"/>
	     	<FIELD NAME="coursemoduleid" TYPE="int" LENGTH="10" NOTNULL="true" UNSIGNED="true" DEFAULT="0" SEQUENCE="false" ENUM="false" COMMENT="moduleid in the course" PREVIOUS="courseid" NEXT="feedback"/>
        <FIELD NAME="feedback" TYPE="text" LENGTH="65535" NOTNULL="true" SEQUENCE="false" ENUM="false" COMMENT="feedback"  PREVIOUS="coursemoduleid" NEXT="amountcomments"/>
	     	<FIELD NAME="amountcomments" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="0" SEQUENCE="false" ENUM="false" COMMENT="Amount of comments which exist for this feedback" PREVIOUS="feedback" NEXT="name"/>
	     	<FIELD NAME="name" TYPE="char" LENGTH="255" NOTNULL="true" SEQUENCE="false" ENUM="false" COMMENT="Name des Verfassers" PREVIOUS="amountcomments" NEXT="rating"/>
		    <FIELD NAME="rating" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="0" SEQUENCE="false" ENUM="false" COMMENT="Amount of ratings for this feedback" PREVIOUS="name" NEXT="ratingaverage"/>
	     	<FIELD NAME="ratingaverage" TYPE="float" LENGTH="10" NOTNULL="true" DEFAULT="0" SEQUENCE="false" ENUM="false" COMMENT="all ratings / 5 * amount of ratings"  PREVIOUS="rating" NEXT="didrate"/>
	     	<FIELD NAME="didrate" TYPE="text" LENGTH="65500" NOTNULL="true"  SEQUENCE="false" ENUM="false" COMMENT="User who already rated this feedback" PREVIOUS="ratingaverage" NEXT="timecreated"/>
	     	<FIELD NAME="timecreated" TYPE="int" LENGTH="10" NOTNULL="true" UNSIGNED="true" DEFAULT="0" SEQUENCE="false" ENUM="false" COMMENT="" PREVIOUS="didrate" NEXT="timemodified"/>
        <FIELD NAME="timemodified" TYPE="int" LENGTH="10" NOTNULL="true" UNSIGNED="true" DEFAULT="0" SEQUENCE="false" ENUM="false" COMMENT="" PREVIOUS="timecreated"/>
      </FIELDS>
      <KEYS>
        <KEY NAME="primary" TYPE="primary" FIELDS="id" />
      </KEYS>
	</TABLE>
	
   <TABLE NAME="feedbackwall_comments" COMMENT="database entry for all comments which exists for feedbacks" >
      <FIELDS>
        <FIELD NAME="id" TYPE="int" LENGTH="10" NOTNULL="true" UNSIGNED="true" SEQUENCE="true" ENUM="false" COMMENT="id of the comment" NEXT="feedbackd"/>
		    <FIELD NAME="feedbackid" TYPE="int" LENGTH="10" NOTNULL="true" UNSIGNED="true" SEQUENCE="false" ENUM="false" COMMENT="feedbackid to which the comment belongs" NEXT="courseid"/>
        <FIELD NAME="courseid" TYPE="int" LENGTH="10" NOTNULL="true" UNSIGNED="true" DEFAULT="0" SEQUENCE="false" ENUM="false" COMMENT="courseid"  PREVIOUS="feedbackid" NEXT="coursemoduleid"/>
		    <FIELD NAME="coursemoduleid" TYPE="int" LENGTH="10" NOTNULL="true" UNSIGNED="true" DEFAULT="0" SEQUENCE="false" ENUM="false" COMMENT="moduleid in the course" PREVIOUS="courseid" NEXT="comment"/>
       	<FIELD NAME="comment" TYPE="text" LENGTH="65535" NOTNULL="true" SEQUENCE="false" ENUM="false" COMMENT="comment itself"  PREVIOUS="courseid" NEXT="name"/>
		    <FIELD NAME="name" TYPE="char" LENGTH="255" NOTNULL="true" SEQUENCE="false" ENUM="false" COMMENT="Name of the creator of the comment" PREVIOUS="comment" NEXT="timecreated"/>
		    <FIELD NAME="timecreated" TYPE="int" LENGTH="10" NOTNULL="true" UNSIGNED="true" DEFAULT="0" SEQUENCE="false" ENUM="false" COMMENT="" PREVIOUS="name" NEXT="timemodified"/>
        <FIELD NAME="timemodified" TYPE="int" LENGTH="10" NOTNULL="true" UNSIGNED="true" DEFAULT="0" SEQUENCE="false" ENUM="false" COMMENT="" PREVIOUS="timecreated"/>
      </FIELDS>
      <KEYS>
        <KEY NAME="primary" TYPE="primary" FIELDS="id" />
      </KEYS>
	</TABLE>
  </TABLES>
  <STATEMENTS>
    <STATEMENT NAME="insert log_display" TYPE="insert" TABLE="log_display" COMMENT="Initial insert of records on table log_display. Each record describes how data will be showed by log reports.">
      <SENTENCES>
        <SENTENCE TEXT="(module, action, mtable, field) VALUES ('feedbackwall', 'add', 'feedbackwall', 'name')" />
        <SENTENCE TEXT="(module, action, mtable, field) VALUES ('feedbackwall', 'update', 'feedbackwall', 'name')" />
        <SENTENCE TEXT="(module, action, mtable, field) VALUES ('feedbackwall', 'view', 'feedbackwall', 'name')" />
      </SENTENCES>
    </STATEMENT>
  </STATEMENTS>
</XMLDB>
